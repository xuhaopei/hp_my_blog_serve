{"version":3,"sources":["webpack:///./src/views/UserSetting/Base.vue?1d5c","webpack:///./src/network/Register.js","webpack:///./src/views/UserSetting/Base.vue?90ae","webpack:///src/views/UserSetting/Base.vue","webpack:///./src/views/UserSetting/Base.vue?a4d2","webpack:///./src/views/UserSetting/Base.vue"],"names":["doRegister","url","paramaObj","instance","post","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","ref","ruleForm","rules","model","value","callback","$$v","$set","expression","staticStyle","schools","expandTrigger","majors","on","$event","submitForm","resetForm","staticRenderFns","name","components","props","user","data","userName","school","email","password","major","class","authority","majorList","watch","$route","getData","params","id","created","methods","$refs","formName","validate","valid","message","type","resetFields","component"],"mappings":"kHAAA,yBAAkiB,EAAG,G,kCCAriB,kDAQO,SAASA,EAAWC,EAAIC,GAC3B,OAAOC,OAASC,KAAKH,EAAIC,K,gECT7B,IAAIG,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,SAAS,CAACE,YAAY,oBAAoB,CAACF,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,GAAG,OAAS,IAAI,CAACH,EAAG,SAAS,CAACE,YAAY,SAASC,MAAM,CAAC,KAAO,OAAO,QAAU,WAAW,CAACH,EAAG,KAAK,CAACJ,EAAIQ,GAAG,YAAYJ,EAAG,SAAS,CAACE,YAAY,SAASC,MAAM,CAAC,KAAO,OAAO,QAAU,WAAW,CAACH,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,UAAU,CAACK,IAAI,WAAWH,YAAY,gBAAgBC,MAAM,CAAC,MAAQP,EAAIU,SAAS,MAAQV,EAAIW,MAAM,cAAc,UAAU,CAACP,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,KAAK,KAAO,SAAS,CAACH,EAAG,WAAW,CAACQ,MAAM,CAACC,MAAOb,EAAIU,SAAiB,SAAEI,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIU,SAAU,WAAYK,IAAME,WAAW,wBAAwB,GAAGb,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,KAAK,KAAO,WAAW,CAACH,EAAG,cAAc,CAACc,YAAY,CAAC,MAAQ,QAAQX,MAAM,CAAC,QAAUP,EAAImB,QAAQ,MAAQ,CAAEC,cAAe,SAAU,KAAO,UAAUR,MAAM,CAACC,MAAOb,EAAIU,SAAe,OAAEI,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIU,SAAU,SAAUK,IAAME,WAAW,sBAAsB,GAAGb,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,KAAK,KAAO,UAAU,CAACH,EAAG,cAAc,CAACc,YAAY,CAAC,MAAQ,QAAQX,MAAM,CAAC,QAAUP,EAAIqB,OAAO,MAAQ,CAAED,cAAe,UAAWR,MAAM,CAACC,MAAOb,EAAIU,SAAc,MAAEI,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIU,SAAU,QAASK,IAAME,WAAW,qBAAqB,GAAGb,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,KAAK,KAAO,UAAU,CAACH,EAAG,YAAY,CAACc,YAAY,CAAC,MAAQ,QAAQX,MAAM,CAAC,YAAc,SAASK,MAAM,CAACC,MAAOb,EAAIU,SAAc,MAAEI,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIU,SAAU,QAASK,IAAME,WAAW,mBAAmB,CAACb,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,QAAQ,MAAQ,WAAWH,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,QAAQ,MAAQ,WAAWH,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,QAAQ,MAAQ,WAAWH,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,QAAQ,MAAQ,YAAY,IAAI,GAAGH,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,KAAK,KAAO,UAAU,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,SAASK,MAAM,CAACC,MAAOb,EAAIU,SAAc,MAAEI,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIU,SAAU,QAASK,IAAME,WAAW,qBAAqB,GAAGb,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,KAAK,KAAO,aAAa,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,YAAYK,MAAM,CAACC,MAAOb,EAAIU,SAAiB,SAAEI,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIU,SAAU,WAAYK,IAAME,WAAW,wBAAwB,GAAGb,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,KAAK,KAAO,UAAU,CAACH,EAAG,YAAY,CAACG,MAAM,CAAC,YAAc,SAASK,MAAM,CAACC,MAAOb,EAAIU,SAAkB,UAAEI,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIU,SAAU,YAAaK,IAAME,WAAW,uBAAuB,CAACb,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,MAAM,MAAQ,KAAKH,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,OAAO,MAAQ,MAAM,IAAI,GAAGH,EAAG,eAAe,CAACA,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAWe,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIwB,WAAW,eAAe,CAACxB,EAAIQ,GAAG,QAAQJ,EAAG,YAAY,CAACkB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIyB,UAAU,eAAe,CAACzB,EAAIQ,GAAG,SAAS,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IACl6FkB,EAAkB,G,gDCiFtB,GACEC,KAAM,oBACNC,WAAY,GACZhB,MAAO,GACPiB,MAAO,CACLC,KAAM,IAERC,KAPF,WAQI,MAAO,CACLrB,SAAU,GACVC,MAAO,CACLqB,SAAU,CAClB,CAAU,UAAV,EAAU,QAAV,UAAU,QAAV,QACA,CAAU,IAAV,EAAU,IAAV,EAAU,QAAV,gBAAU,QAAV,SAEQC,OAAQ,CAAC,CAAjB,+CACQC,MAAO,CACf,CAAU,UAAV,EAAU,QAAV,QAAU,QAAV,QACA,CACU,UAAV,EACU,QAAV,qEACU,QAAV,aACU,QAAV,SAGQC,SAAU,CAClB,CAAU,UAAV,EAAU,QAAV,QAAU,QAAV,QACA,CAAU,IAAV,EAAU,IAAV,EAAU,QAAV,gBAAU,QAAV,SAEQC,MAAO,CAAC,CAAhB,6CACQC,MAAO,CAAC,CAAhB,+CACQC,UAAW,CAAC,CAApB,8CAEMnB,QAAS,EAAf,KACME,OAAQkB,EAAd,OAGEC,MAAO,CACLC,OADJ,SACA,KACMxC,KAAKyC,QAAQzC,KAAKwC,OAAOE,OAAOC,MAGpCC,QA1CF,WA2CI5C,KAAKyC,QAAQzC,KAAKwC,OAAOE,OAAOC,KAElCE,QAAS,CACPtB,WADJ,SACA,cACMvB,KAAK8C,MAAMC,GAAUC,UAAS,SAApC,GACQ,IAAIC,EAYF,OADA,EAAV,wBACiB,EAXP,OAAV,OAAU,CAAV,+BACA,kBACY,EAAZ,UACcC,QAAS,OACTC,KAAM,eAEpB,YACY,EAAZ,yBAQI3B,UAnBJ,SAmBA,GACMxB,KAAK8C,MAAMC,GAAUK,eAKvBX,QAzBJ,SAyBA,cACM,OAAN,OAAM,CAAN,GACA,kBAAQ,IACR,SACQ,EAAR,WACQ,EAAR,mCACQ,EAAR,wCAEA,mBACQ,EAAR,UACU,KAAV,QACU,QAAV,UCnK6V,I,wBCQzVY,EAAY,eACd,EACAvD,EACA2B,GACA,EACA,KACA,KACA,MAIa,aAAA4B,E","file":"js/chunk-a3560212.c25be66f.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Base.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Base.vue?vue&type=style&index=0&lang=less&\"","import instance from './base.js'\r\n\r\n/**\r\n * 注册用户\r\n * @param {*} url 接口路径\r\n * @param {*} paramaObj 传递的参数\r\n * {email:'986119817@qq.com',password:'12345678'}\r\n */\r\nexport function doRegister(url,paramaObj) {\r\n    return instance.post(url,paramaObj);\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"EditUser\"},[_c('el-row',{staticClass:\"EditUser-content\"},[_c('el-col',{attrs:{\"span\":12,\"offset\":6}},[_c('el-row',{staticClass:\"row-bg\",attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('h1',[_vm._v(\"修改信息\")])]),_c('el-row',{staticClass:\"row-bg\",attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{attrs:{\"span\":24}},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.ruleForm.userName),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"userName\", $$v)},expression:\"ruleForm.userName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"学校\",\"prop\":\"school\"}},[_c('el-cascader',{staticStyle:{\"width\":\"100%\"},attrs:{\"options\":_vm.schools,\"props\":{ expandTrigger: 'hover' },\"size\":\"medium\"},model:{value:(_vm.ruleForm.school),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"school\", $$v)},expression:\"ruleForm.school\"}})],1),_c('el-form-item',{attrs:{\"label\":\"专业\",\"prop\":\"major\"}},[_c('el-cascader',{staticStyle:{\"width\":\"100%\"},attrs:{\"options\":_vm.majors,\"props\":{ expandTrigger: 'hover' }},model:{value:(_vm.ruleForm.major),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"major\", $$v)},expression:\"ruleForm.major\"}})],1),_c('el-form-item',{attrs:{\"label\":\"年级\",\"prop\":\"class\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择年级\"},model:{value:(_vm.ruleForm.class),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"class\", $$v)},expression:\"ruleForm.class\"}},[_c('el-option',{attrs:{\"label\":\"2017届\",\"value\":\"2017届\"}}),_c('el-option',{attrs:{\"label\":\"2018届\",\"value\":\"2018届\"}}),_c('el-option',{attrs:{\"label\":\"2019届\",\"value\":\"2019届\"}}),_c('el-option',{attrs:{\"label\":\"2020届\",\"value\":\"2020届\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{attrs:{\"type\":\"email\"},model:{value:(_vm.ruleForm.email),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"email\", $$v)},expression:\"ruleForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.ruleForm.password),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"password\", $$v)},expression:\"ruleForm.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"权限\",\"prop\":\"right\"}},[_c('el-select',{attrs:{\"placeholder\":\"请设置权限\"},model:{value:(_vm.ruleForm.authority),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"authority\", $$v)},expression:\"ruleForm.authority\"}},[_c('el-option',{attrs:{\"label\":\"管理员\",\"value\":1}}),_c('el-option',{attrs:{\"label\":\"普通用户\",\"value\":0}})],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"修改\")]),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('ruleForm')}}},[_vm._v(\"重置\")])],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"EditUser\">\r\n    <el-row class=\"EditUser-content\">\r\n      <el-col :span=\"12\" :offset=\"6\">\r\n        <el-row type=\"flex\" class=\"row-bg\" justify=\"center\">\r\n          <h1>修改信息</h1>\r\n        </el-row>\r\n        <el-row type=\"flex\" class=\"row-bg\" justify=\"center\">\r\n          <!-- 表单信息 -->\r\n          <el-col :span=\"24\">\r\n            <el-form\r\n              :model=\"ruleForm\"\r\n              :rules=\"rules\"\r\n              ref=\"ruleForm\"\r\n              label-width=\"100px\"\r\n              class=\"demo-ruleForm\"\r\n            >\r\n              <el-form-item label=\"姓名\" prop=\"name\">\r\n                <el-input v-model=\"ruleForm.userName\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"学校\" prop=\"school\">\r\n                <el-cascader\r\n                  v-model=\"ruleForm.school\"\r\n                  :options=\"schools\"\r\n                  :props=\"{ expandTrigger: 'hover' }\"\r\n                  size=\"medium\"\r\n                  style=\"width:100%\"\r\n                ></el-cascader>\r\n              </el-form-item>\r\n              <el-form-item label=\"专业\" prop=\"major\">\r\n                <el-cascader\r\n                  v-model=\"ruleForm.major\"\r\n                  :options=\"majors\"\r\n                  :props=\"{ expandTrigger: 'hover' }\"\r\n                  style=\"width:100%\"\r\n                ></el-cascader>\r\n              </el-form-item>\r\n              <el-form-item label=\"年级\" prop=\"class\">\r\n                <el-select v-model=\"ruleForm.class\" placeholder=\"请选择年级\" style=\"width:100%\">\r\n                  <el-option label=\"2017届\" value=\"2017届\"></el-option>\r\n                  <el-option label=\"2018届\" value=\"2018届\"></el-option>\r\n                  <el-option label=\"2019届\" value=\"2019届\"></el-option>\r\n                  <el-option label=\"2020届\" value=\"2020届\"></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n              <el-form-item label=\"邮箱\" prop=\"email\">\r\n                <el-input v-model=\"ruleForm.email\" type=\"email\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"密码\" prop=\"password\">\r\n                <el-input\r\n                  v-model=\"ruleForm.password\"\r\n                  type=\"password\"\r\n                ></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"权限\" prop=\"right\">\r\n                <el-select\r\n                  v-model=\"ruleForm.authority\"\r\n                  placeholder=\"请设置权限\"\r\n                >\r\n                  <el-option label=\"管理员\" :value=\"1\"></el-option>\r\n                  <el-option label=\"普通用户\" :value=\"0\"></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-button type=\"primary\" @click=\"submitForm('ruleForm')\"\r\n                  >修改</el-button\r\n                >\r\n                <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\r\n              </el-form-item>\r\n            </el-form>\r\n          </el-col>\r\n        </el-row>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { doRegister } from \"@/network/Register.js\";\r\nimport { schoolList } from \"@/assets/js/chinaUniversityList.js\";\r\nimport { majorList } from \"@/assets/js/majorList.js\";\r\nimport { httpUserQuery,httpUserUpdate } from \"@/network/User.js\";\r\nexport default {\r\n  name: \"article-titleList\",\r\n  components: {},\r\n  model: {},\r\n  props: {\r\n    user: {},\r\n  },\r\n  data() {\r\n    return {\r\n      ruleForm: {},\r\n      rules: {\r\n        userName: [\r\n          { required: true, message: \"请输入您的名字\", trigger: \"blur\" },\r\n          { min: 3, max: 5, message: \"长度在 3 到 5 个字符\", trigger: \"blur\" },\r\n        ],\r\n        school: [{ required: true, message: \"请选择学校\", trigger: \"change\" }],\r\n        email: [\r\n          { required: true, message: \"请输入邮箱\", trigger: \"blur\" },\r\n          {\r\n            required: true,\r\n            pattern: /^[A-Za-z\\d]+([-_.][A-Za-z\\d]+)*@([A-Za-z\\d]+[-.])+[A-Za-z\\d]{2,4}$/,\r\n            message: \"请输入正确的邮箱格式\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        password: [\r\n          { required: true, message: \"请输入密码\", trigger: \"blur\" },\r\n          { min: 6, max: 8, message: \"长度在 6 到 8 个字符\", trigger: \"blur\" },\r\n        ],\r\n        major: [{ required: true, message: \"请选择专业\", trigger: \"blur\" }],\r\n        class: [{ required: true, message: \"请选择您的年级\", trigger: \"blur\" }],\r\n        authority: [{ required: true, message: \"请选择权限\", trigger: \"blur\" }],\r\n      },\r\n      schools: schoolList,\r\n      majors: majorList,\r\n    };\r\n  },\r\n  watch: {\r\n    $route(to, from) {\r\n      this.getData(this.$route.params.id);\r\n    },\r\n  },\r\n  created() {\r\n    this.getData(this.$route.params.id);\r\n  },\r\n  methods: {\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          httpUserUpdate(this.$route.params.id,this.ruleForm)\r\n          .then((response) => {\r\n            this.$message({\r\n              message: \"修改成功\",\r\n              type: \"success\",\r\n            });\r\n          },(err)=>{\r\n             this.$message.error(err);\r\n          })\r\n        } else {\r\n          this.$message.error(\"修改失败\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields();\r\n    },\r\n    /**\r\n     * 获取用户\r\n     */\r\n    getData(id) {\r\n      httpUserQuery(id)\r\n        .then((response) => {\r\n          let { data } = response;\r\n          this.ruleForm = data;\r\n          this.ruleForm.major = JSON.parse(data.major);\r\n          this.ruleForm.school = JSON.parse(data.school);\r\n        })\r\n        .catch((err) => {\r\n          this.$message({\r\n            type: \"error\",\r\n            message: err,\r\n          });\r\n          // this.$router.push(\"/ManagerHome/User\");\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\">\r\n.EditUser {\r\n \r\n  height: 99vh;\r\n  background-color: white;\r\n  width: 50vw;\r\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\r\n  margin:0 auto;\r\n  margin-top:1vh;\r\n  .nav-wrapper {\r\n    padding: 15px;\r\n    font-size: 15px;\r\n    border-bottom: 1px solid rgba(0, 0, 0, 0.1);\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Base.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Base.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Base.vue?vue&type=template&id=f2dc5ad2&\"\nimport script from \"./Base.vue?vue&type=script&lang=js&\"\nexport * from \"./Base.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Base.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
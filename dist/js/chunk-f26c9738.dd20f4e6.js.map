{"version":3,"sources":["webpack:///./src/network/Directory.js","webpack:///./src/views/UserHome/Base.vue?2430","webpack:///./node_modules/core-js/modules/es.string.match.js","webpack:///./src/views/UserHome/Base.vue?be6c","webpack:///./src/components/other/HpNavItem.vue?27b9","webpack:///src/components/other/HpNavItem.vue","webpack:///./src/components/other/HpNavItem.vue?c26a","webpack:///./src/components/other/HpNavItem.vue","webpack:///src/views/UserHome/Base.vue","webpack:///./src/views/UserHome/Base.vue?f7a9","webpack:///./src/views/UserHome/Base.vue","webpack:///./src/components/other/HpNavItem.vue?a53d"],"names":["httpCreateDirector","pid","path","name","articleId","uid","params","instance","post","httpDeleteDirector","id","request","url","method","httpUpdateDirectory","httpGetDirectory","get","fixRegExpWellKnownSymbolLogic","anObject","toLength","requireObjectCoercible","advanceStringIndex","regExpExec","MATCH","nativeMatch","maybeCallNative","regexp","O","this","matcher","undefined","call","RegExp","String","res","done","value","rx","S","global","fullUnicode","unicode","lastIndex","result","A","n","matchStr","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","$event","preventDefault","showMenu","_v","directorData","getDirectory","ref","staticStyle","tableData","seletAllArticle","handleSelect","scopedSlots","_u","key","fn","scope","row","handleEdit","$index","$router","push","handleDelete","cancelSelect","deleteAllSelecteds","allSelectedArticleIds","pageSize","pageSum","pageNum","visible","event","addHandle","staticRenderFns","_l","zone","index","showMsg","_s","article","length","updateHandle","deleteHandle","components","MenuItem","props","data","type","Array","default","isShow","PointerEvent","mounted","methods","HpNavItemBody","target","nextElementSibling","flage","attributes","nodeValue","i","getElementsByTagName","style","className","addClass","obj","e","str","match","$prompt","confirmButtonText","cancelButtonText","inputPattern","inputErrorMessage","inputValue","innerText","watch","item","handler","deep","component","HpNavItem","ArticleIntroduce","CalenderPlan","model","multipleSelection","Set","start","sum","computed","getData","beforeRouteEnter","next","beforeRouteLeave","throttle","created","updated","beforeDestroy","destroyed","$refs","multipleTable","clearSelection","clear","has","delete","add","$confirm","selection","forEach","console","log","addTableData","Promise","getArticle"],"mappings":"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","file":"js/chunk-f26c9738.dd20f4e6.js","sourcesContent":["import instance from './base.js'\r\n\r\n/**\r\n * 查询所有目录\r\n * @param {String} url 接口路径\r\n * 返回一个promise\r\n */\r\nexport function getDirectory(url) {\r\n    return instance.get(url);\r\n}\r\n/**\r\n * 更新目录\r\n * @param {String} url \r\n * @param {Array} params 存储各个参数，格式如下。\r\n * @param {Number} id     目录ID\r\n * @param {String} path   目录路径\r\n * @param {String} name   目录名称\r\n * @param {Number} flag   0代表目录,其它数字代表文章\r\n */\r\nexport function updateDirectory(url,params) {\r\n    let {id,path,name} =  params;\r\n    //return instance.post(url,id,path,name);\r\n    instance.post(url,params);\r\n}\r\n\r\n/**\r\n * 提交一篇文章\r\n * @param {String} url \r\n * @param {String} articleId  文章ID\r\n * @param {String} articleName  文章名\r\n * @param {String} articleContent 文章内容\r\n */\r\nexport function putArticle(url,articleId,articleName,articleContent) {\r\n    return instance.post(url,articleId,articleName,articleContent);\r\n}\r\n\r\n/**\r\n * 创建目录\r\n * @param {String} url \r\n * @param {Array} params 存储各个参数，格式如下。\r\n * @param {Number} pid  上级目录ID\r\n * @param {String} path 目录路径\r\n * @param {String} name 目录名称\r\n * @param {Number} articleId 0为目录，其它为文章id;\r\n */\r\nexport function createDirector(url,params) {\r\n    return instance.post(url,params);\r\n}\r\n\r\n/**\r\n * 删除目录\r\n */\r\nexport function deleteDirector(url,params) {\r\n    return instance.post(url,params);\r\n}\r\n\r\n/**\r\n * 创建目录\r\n * @param {Number} pid  上级目录ID\r\n * @param {String} path 目录路径\r\n * @param {String} name 目录名称\r\n * @param {Number} articleId 0为目录，其它为文章id;\r\n * @param {Number} uid 用户id;\r\n */\r\n export function httpCreateDirector(pid,path,name,articleId,uid) {\r\n   let params = {pid,path,name,articleId,uid}\r\n   return instance.post(\r\n       `/directory/add`,\r\n       params);\r\n}\r\n\r\n/**\r\n * 删除目录\r\n * @param {Number} id   目录ID\r\n */\r\n export function httpDeleteDirector({id,uid}) {\r\n    return instance.request({\r\n        url: '/director/delete',\r\n        method: 'get', // default\r\n        params: {\r\n            id,\r\n            uid,\r\n        },\r\n    })\r\n}\r\n\r\n/**\r\n * 更新目录\r\n * @param {Number} id     目录ID\r\n * @param {String} path   目录路径\r\n * @param {String} name   目录名称\r\n */\r\n export function httpUpdateDirectory(id,path,name) {\r\n    return instance.post(\r\n        '/directory/update',\r\n        {id,path,name}\r\n    );\r\n}\r\n\r\n/**\r\n * 查询用户所有目录\r\n * @param {number} uid 用户id\r\n * 返回一个promise\r\n */\r\n export function httpGetDirectory(uid) {\r\n    return instance.get(\r\n        `/directory/queryAll?uid=${uid}`\r\n    );\r\n}","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Base.vue?vue&type=style&index=0&id=7c6fc653&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Base.vue?vue&type=style&index=0&id=7c6fc653&lang=less&scoped=true&\"","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@match logic\nfixRegExpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = regexp == undefined ? undefined : regexp[MATCH];\n      return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative(nativeMatch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      if (!rx.global) return regExpExec(rx, S);\n\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"UserHome\"},[_c('el-row',{attrs:{\"gutter\":15}},[_c('el-col',{attrs:{\"span\":5}},[_c('div',{staticClass:\"UserHome-left__wrapper\"},[_c('div',{staticClass:\"HpNavItem-title\",on:{\"contextmenu\":function($event){$event.preventDefault();return _vm.showMenu($event)}}},[_vm._v(\" 个人目录区 \")]),_c('hp-nav-item',{attrs:{\"data\":_vm.directorData},on:{\"success\":_vm.getDirectory}})],1)]),_c('el-col',{attrs:{\"span\":14}},[_c('div',{staticClass:\"UserHome-middle__wrapper\"},[_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData},on:{\"select-all\":_vm.seletAllArticle,\"select\":_vm.handleSelect}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"label\":\"文章\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('article-introduce',{attrs:{\"article\":scope.row}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"icon\":\"el-icon-edit-outline\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}}),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-view\"},on:{\"click\":function($event){return _vm.$router.push({ path: (\"ReadArticle/\" + (scope.row.id)) })}}}),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\",\"icon\":\"el-icon-document-delete\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}})]}}])})],1),_c('div',{staticStyle:{\"margin-top\":\"20px\",\"display\":\"flex\",\"flex-direction\":\"row\",\"justify-content\":\"flex-end\"}},[_c('el-button',{on:{\"click\":function($event){return _vm.cancelSelect()}}},[_vm._v(\"取消选择\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-document-delete\"},on:{\"click\":function($event){return _vm.deleteAllSelecteds(_vm.allSelectedArticleIds)}}},[_vm._v(\"删除所选\")])],1),_c('div',{staticClass:\"pageHandle\"},[_c('el-pagination',{attrs:{\"layout\":\"prev, pager, next\",\"page-size\":_vm.pageSize,\"total\":_vm.pageSum,\"current-page\":_vm.pageNum},on:{\"update:currentPage\":function($event){_vm.pageNum=$event},\"update:current-page\":function($event){_vm.pageNum=$event}}})],1)],1)]),_c('el-col',{attrs:{\"span\":5}},[_c('calender-plan')],1)],1),_c('menu-item',{attrs:{\"visible\":_vm.visible,\"event\":_vm.event},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('a',{on:{\"click\":function($event){return _vm.addHandle(null)}}},[_vm._v(\"创建子目录\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"HpNavItem\"}},[_vm._l((_vm.data),function(zone,index){return _c('div',{key:index},[_c('div',{staticClass:\"HpNavItem-name   g_layout_flex_justify-content_space-between g-navHref\",staticStyle:{\"text-indent\":\"10px\"},attrs:{\"pid\":zone.pid,\"id\":zone.id,\"path\":zone.path},on:{\"click\":function($event){return _vm.showMsg(index, $event)},\"contextmenu\":function($event){$event.preventDefault();return _vm.showMenu($event)}}},[_vm._v(\" \"+_vm._s(zone.name)+\" \"),_c('i',{staticClass:\"iconfont icon-wenjianjia\"})]),_c('div',{staticClass:\"HpNavItem-body\",attrs:{\"flage\":\"false\"}},_vm._l((zone.childrens),function(article,index){return _c('div',{key:index,staticClass:\"HpNavItem-item \"},[(article.length > 0)?_c('hp-nav-item',{attrs:{\"data\":article}}):_c('li',{staticClass:\"g-navHref\",staticStyle:{\"text-overflow\":\"ellipsis\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\"},attrs:{\"title\":article.name}},[_c('router-link',{attrs:{\"to\":'/Home/ReadArticle/' + article.articleId}},[_vm._v(\" \"+_vm._s(article.name))])],1)],1)}),0)])}),_c('menu-item',{attrs:{\"visible\":_vm.visible,\"event\":_vm.event},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('a',{on:{\"click\":function($event){return _vm.addHandle(_vm.event)}}},[_vm._v(\"创建子目录\")]),_c('a',{on:{\"click\":function($event){return _vm.updateHandle(_vm.event)}}},[_vm._v(\"编辑目录\")]),_c('a',{on:{\"click\":function($event){return _vm.deleteHandle(_vm.event)}}},[_vm._v(\" 删除目录\")])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--这是导航模块-->\r\n<template>\r\n  <div id=\"HpNavItem\">\r\n    <!--zone代表每个学习区-->\r\n    <div v-for=\"(zone, index) in data\" :key=\"index\">\r\n      \r\n      <div\r\n        class=\"HpNavItem-name   g_layout_flex_justify-content_space-between g-navHref\"\r\n        v-on:click=\"showMsg(index, $event)\"\r\n        v-on:click.right.prevent=\"showMenu($event)\"\r\n        :pid=\"zone.pid\"\r\n        :id=\"zone.id\"\r\n        :path=\"zone.path\"\r\n        style=\"text-indent:10px;\"\r\n      >\r\n        {{ zone.name }}\r\n        <i class=\"iconfont icon-wenjianjia\"></i>\r\n      </div>\r\n      <div class=\"HpNavItem-body\" flage=\"false\">\r\n        <!--article代表文章信息，如果article的长度大于0说明是区，则递归调用此组件-->\r\n        <div\r\n          class=\"HpNavItem-item \"\r\n          v-for=\"(article, index) in zone.childrens\"\r\n          :key=\"index\"\r\n        >\r\n          <!--如果是数组 则递归调用这个组建-->\r\n          <hp-nav-item v-if=\"article.length > 0\" :data=\"article\"></hp-nav-item>\r\n          <!--不是数组 则输出文章名-->\r\n          <li\r\n            v-else\r\n            class=\"g-navHref\"\r\n            :title=\"article.name\"\r\n            style=\"\r\n            text-overflow: ellipsis;\r\n            white-space: nowrap;\r\n            overflow: hidden;\"\r\n          >\r\n            <router-link :to=\"'/Home/ReadArticle/' + article.articleId\">\r\n              {{ article.name }}</router-link\r\n            >\r\n          </li>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <menu-item :visible.sync=\"visible\" :event=\"event\">\r\n      <a @click=\"addHandle(event)\">创建子目录</a>\r\n      <a @click=\"updateHandle(event)\">编辑目录</a>\r\n      <a @click=\"deleteHandle(event)\"> 删除目录</a>\r\n    </menu-item>\r\n  </div>\r\n</template>\r\n<script>\r\nimport MenuItem from \"@/components/other/MenuItem.vue\";\r\nimport { MessageBox } from \"element-ui\";\r\nimport {\r\n  httpCreateDirector,\r\n  httpDeleteDirector,\r\n  httpUpdateDirectory,\r\n  httpGetDirectory,\r\n} from \"@/network/Directory.js\";\r\n\r\nexport default {\r\n  name: \"hp-nav-item\",\r\n  components: {\r\n    MenuItem,\r\n  },\r\n  props: {\r\n    data: {\r\n      type: Array,\r\n      default: function() {\r\n        return [\r\n          {\r\n            id: 347,\r\n            pid: 0,\r\n            name: \"HTML\",\r\n            path: \"/0/347\",\r\n            childrens: [\r\n              {\r\n                id: 361,\r\n                pid: 347,\r\n                path: \"/0/347/361\",\r\n                name: \"img中alt和title的区别\",\r\n                articleId: 246,\r\n              },\r\n              {\r\n                id: 349,\r\n                pid: 347,\r\n                path: \"/0/347/349\",\r\n                name: \"HTML文档结构（重点是meta）\",\r\n                articleId: 234,\r\n              },\r\n              {\r\n                id: 348,\r\n                pid: 347,\r\n                path: \"/0/347/348\",\r\n                name: \"HTML语义化\",\r\n                articleId: 233,\r\n              },\r\n              [],\r\n            ],\r\n          },\r\n        ];\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      isShow: false,\r\n      visible: false,\r\n      event: new PointerEvent(\"\"),\r\n    };\r\n  },\r\n  mounted() {\r\n  },\r\n  methods: {\r\n    /**\r\n     * 点击后显示/关闭目录\r\n     */\r\n    showMsg(index, event) {\r\n      var HpNavItemBody = event.target.nextElementSibling; // event.target为目标元素,获取紧接着的兄弟元素 即是子文件\r\n\r\n      var flage = HpNavItemBody.attributes[0].nodeValue; // 获取自定义属性结点的值\r\n      var i = event.target.getElementsByTagName(\"i\")[0]; // 获取文件夹图标\r\n      // 判断根据自定义属性结点的值判断子文件是显示还是关闭\r\n      if (flage == \"false\") {\r\n        HpNavItemBody.style[\"height\"] = \"auto\";\r\n        HpNavItemBody.attributes[0].nodeValue = \"true\"; // 设置自定义属性结点的值\r\n        i.className = \"iconfont icon-folder\";\r\n      } else {\r\n        HpNavItemBody.style[\"height\"] = \"0\";\r\n        HpNavItemBody.attributes[0].nodeValue = \"false\"; // 设置自定义属性结点的值\r\n        i.className = \"iconfont icon-wenjianjia\";\r\n      }\r\n    },\r\n\r\n\r\n    /**\r\n     * 右击弹出菜单\r\n     */\r\n    showMenu(event) {\r\n      this.event = event;\r\n      this.visible = true;\r\n    },\r\n    /**\r\n     * 移动到此处时，给这个元素的className添加class\r\n     */\r\n    addClass(e) {\r\n      var obj = e.target;\r\n      var str = obj.className;\r\n      if (!str.match(/g-navHref/)) {\r\n        obj.className = str + \" g-navHref\";\r\n      }\r\n    },\r\n    addHandle(event) {\r\n      this.$prompt(\"请输入目录名称\", \"添加\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        inputPattern: /^(\\w|\\W)+$/,\r\n        inputErrorMessage: \"请输入目录名称\",\r\n      })\r\n        .then(({ value }) => {\r\n          let directorItem = event.target;\r\n          let pid = parseInt(directorItem.getAttribute(\"id\"));\r\n          let path = directorItem.getAttribute(\"path\");\r\n          let name = value;\r\n          let articleId = 0;\r\n          let uid = this.$store.state.people.user.id;\r\n          httpCreateDirector(pid, path, value, 0, uid).then(() => {\r\n            this.$emit(\"success\")\r\n          });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"取消输入\",\r\n          });\r\n        });\r\n    },\r\n    deleteHandle(event) {\r\n      MessageBox.confirm(\r\n        `此操作将永久删 <strong style='color:red;padding:0 10px'>${event.target.innerText} (目录)</strong>, 是否继续?`,\r\n        \"提示\",\r\n        {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\",\r\n          dangerouslyUseHTMLString: true,\r\n        }\r\n      )\r\n        .then(() => {\r\n          httpDeleteDirector({id:event.target.getAttribute(\"id\")}).then(()=>{\r\n            this.$emit(\"success\")\r\n          });\r\n        })\r\n        .catch(() => {});\r\n    },\r\n    updateHandle(event) {\r\n      this.$prompt(\"请输入目录名称\", \"修改\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        inputPattern: /^(\\w|\\W)+$/,\r\n        inputErrorMessage: \"请输入目录名称\",\r\n        inputValue: event.target.innerText,\r\n      })\r\n        .then(({ value }) => {\r\n          let directorItem = event.target;\r\n          let id = parseInt(directorItem.getAttribute(\"id\"));\r\n          let path = directorItem.getAttribute(\"path\");\r\n          \r\n          httpUpdateDirectory(id, path, value).then((value)=>{\r\n            this.$emit(\"success\")\r\n          });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"取消输入\",\r\n          });\r\n        });\r\n    },\r\n  },\r\n  watch: {\r\n    item: {\r\n      handler: function() {\r\n        this.data = this.item;\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n#HpNavItem {\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n.HpNavItem-title {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 12px;\r\n  border-bottom: 1px solid #ebeef5;\r\n}\r\n.HpNavItem-name {\r\n  position: relative;\r\n  height: 50px;\r\n  line-height: 50px;\r\n  background: white;\r\n  font-weight: bolder;\r\n}\r\n\r\n.HpNavItem-body {\r\n  position: relative;\r\n  height: 0;\r\n  overflow: auto;\r\n  transition: height 0.5s; /*设置当height出现变化时，出现移动效果 */\r\n  padding-left: 10px;\r\n}\r\n\r\n.HpNavItem-body-show {\r\n  height: auto;\r\n}\r\n.HpNavItem-item {\r\n  /* text-indent: 20px;文字向右缩进20PX*/\r\n  line-height: 50px;\r\n  background: white;\r\n}\r\n/*全局样式*/\r\n/*鼠标移动到导航时出现下划线已经字体变蓝*/\r\n.navHref:hover {\r\n  color: #2196f3;\r\n  text-decoration: underline #2196f3 dotted;\r\n  text-decoration: rgb(236, 240, 9);\r\n  cursor: pointer;\r\n  text-underline-position: under;\r\n}\r\n/*鼠标移动到导航时背景变为透明灰色+鼠标*/\r\n.mouseMoveOnNav:hover {\r\n  background-color: rgba(0, 0, 0, 0.2);\r\n  cursor: pointer;\r\n}\r\n\r\n/**定义右击菜单的样式 */\r\n#HpNavItem_menu {\r\n  background: white;\r\n  position: absolute;\r\n  width: 200px;\r\n  left: 0;\r\n  top: 0;\r\n  box-shadow: 2px 2px 5px 5px rgba(0, 0, 0, 0.2);\r\n}\r\n#HpNavItem_menu li {\r\n  padding: 0;\r\n  text-indent: 0;\r\n  height: 40px;\r\n  line-height: 40px;\r\n  border-bottom: 1px solid #2196f3;\r\n  text-align: center;\r\n}\r\n#HpNavItem_menu li:last-child {\r\n  border-bottom: 0px;\r\n}\r\n#HpNavItem_menu li:hover {\r\n  cursor: pointer;\r\n  border: 1px solid #2196f3;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HpNavItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HpNavItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HpNavItem.vue?vue&type=template&id=d6f3f38c&\"\nimport script from \"./HpNavItem.vue?vue&type=script&lang=js&\"\nexport * from \"./HpNavItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HpNavItem.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"UserHome\">\r\n    <el-row :gutter=\"15\">\r\n      <!-- 文件夹目录 -->\r\n      <el-col :span=\"5\">\r\n        <div class=\"UserHome-left__wrapper\">\r\n          <div\r\n            class=\"HpNavItem-title\"\r\n            v-on:click.right.prevent=\"showMenu($event)\"\r\n          >\r\n            个人目录区\r\n          </div>\r\n          <hp-nav-item\r\n            :data=\"directorData\"\r\n            @success=\"getDirectory\"\r\n          ></hp-nav-item>\r\n        </div>\r\n      </el-col>\r\n      <!-- 显示所有文章 -->\r\n      <el-col :span=\"14\">\r\n        <div class=\"UserHome-middle__wrapper\">\r\n          <!-- 表格内容 -->\r\n          <el-table\r\n            :data=\"tableData\"\r\n            ref=\"multipleTable\"\r\n            @select-all=\"seletAllArticle\"\r\n            @select=\"handleSelect\"\r\n            style=\"width: 100%\"\r\n          >\r\n            <!-- 序号 -->\r\n            <el-table-column type=\"selection\" width=\"55\"> </el-table-column>\r\n            <!-- 文章主体内容 -->\r\n            <el-table-column label=\"文章\">\r\n              <template slot-scope=\"scope\">\r\n                <article-introduce :article=\"scope.row\"></article-introduce>\r\n              </template>\r\n            </el-table-column>\r\n            <!-- 操作 -->\r\n            <el-table-column label=\"操作\" width=\"180\">\r\n              <template slot-scope=\"scope\">\r\n                <!-- 编辑 -->\r\n                <el-button\r\n                  size=\"mini\"\r\n                  @click=\"handleEdit(scope.$index, scope.row)\"\r\n                  icon=\"el-icon-edit-outline\"\r\n                ></el-button>\r\n                <!-- 查看 -->\r\n                <el-button\r\n                  type=\"primary\"\r\n                  size=\"mini\"\r\n                  @click=\"$router.push({ path: `ReadArticle/${scope.row.id}` })\"\r\n                  icon=\"el-icon-view\"\r\n                ></el-button>\r\n                <!-- 删除 -->\r\n                <el-button\r\n                  size=\"mini\"\r\n                  type=\"danger\"\r\n                  @click=\"handleDelete(scope.$index, scope.row)\"\r\n                  icon=\"el-icon-document-delete\"\r\n                ></el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n          <!-- 多选控制 -->\r\n          <div\r\n            style=\"margin-top: 20px;display:flex; flex-direction: row;justify-content: flex-end;\"\r\n          >\r\n            <el-button @click=\"cancelSelect()\">取消选择</el-button>\r\n            <el-button\r\n              @click=\"deleteAllSelecteds(allSelectedArticleIds)\"\r\n              type=\"danger\"\r\n              icon=\"el-icon-document-delete\"\r\n              >删除所选</el-button\r\n            >\r\n          </div>\r\n          <!-- 分页操作 -->\r\n          <div class=\"pageHandle\">\r\n            <el-pagination\r\n              layout=\"prev, pager, next\"\r\n              :page-size=\"pageSize\"\r\n              :total=\"pageSum\"\r\n              :current-page.sync=\"pageNum\"   \r\n            >\r\n            </el-pagination>\r\n          </div>\r\n        </div>\r\n      </el-col>\r\n      <!-- 计划表 -->\r\n      <el-col :span=\"5\">\r\n        <calender-plan></calender-plan>\r\n      </el-col>\r\n    </el-row>\r\n    <!-- 动态创建子目录 -->\r\n    <menu-item :visible.sync=\"visible\" :event=\"event\">\r\n      <a @click=\"addHandle(null)\">创建子目录</a>\r\n    </menu-item>\r\n  </div>\r\n</template>\r\n<script>\r\nimport HpNavItem from \"@/components/other/HpNavItem.vue\";\r\nimport ArticleIntroduce from \"@/components/other/ArticleIntroduce.vue\";\r\nimport CalenderPlan from \"@/components/other/CalenderPlan.vue\";\r\nimport MenuItem from \"@/components/other/MenuItem.vue\";\r\nimport { throttle } from \"@/utils/throttle.js\";\r\nimport { httpCreateDirector, httpGetDirectory } from \"@/network/Directory.js\";\r\nimport {\r\n  httpArticleQuery,\r\n  httpArticleQueryByUIdAndContent,\r\n  httpDeleteArticles,\r\n  httpArticleQueryByUIdAndContentSum,\r\n} from \"@/network/Article.js\";\r\n\r\nexport default {\r\n  name: \"user-home\",\r\n  components: {\r\n    \"hp-nav-item\": HpNavItem,\r\n    \"article-introduce\": ArticleIntroduce,\r\n    \"calender-plan\": CalenderPlan,\r\n    MenuItem,\r\n  },\r\n  model: {},\r\n  props: {},\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n      multipleSelection: [],\r\n      allSelectedArticleIds: new Set(), // 避免id重复\r\n      directorData: [],\r\n      event: new PointerEvent(\"\"),\r\n      visible: false,\r\n      start: 0, // 请求数据的起始值\r\n      sum: 5, // 请求数据的量\r\n      pageNum: 1,\r\n      pageSize: 10, // 每一页请求数\r\n      pageSum: 0,\r\n    };\r\n  },\r\n  computed: {},\r\n  watch: {\r\n    pageNum(newValue, oldVaue) {\r\n      this.getData((this.pageNum - 1)*10, this.pageSize);\r\n    },\r\n  },\r\n  // 进入此组件,组件还没渲染\r\n  beforeRouteEnter(to, from, next) {\r\n    next();\r\n  },\r\n  // 离开此组件\r\n  beforeRouteLeave(to, from, next) {\r\n    throttle.removeScrool();\r\n    this.start = 0;\r\n    this.tableData = [];\r\n    next();\r\n  },\r\n  created() {},\r\n  async mounted() {\r\n    // this.addTableData();\r\n    this.getDirectory();\r\n    this.getData((this.pageNum - 1)*10, this.pageSize);\r\n    this.pageSum = await httpArticleQueryByUIdAndContentSum(\"\",this.$store.state.people.user.id);\r\n  },\r\n  updated() {},\r\n  beforeDestroy() {\r\n    throttle.removeScrool();\r\n  },\r\n  destroyed() {},\r\n  methods: {\r\n    /**\r\n     * 取消选择\r\n     */\r\n    cancelSelect() {\r\n      this.$refs.multipleTable.clearSelection();\r\n      this.allSelectedArticleIds.clear();\r\n    },\r\n    /**\r\n     * 判断是否删除或者添加文章id\r\n     */\r\n    handleSelect(selection, row) {\r\n      // 如果存在id则说明是取消操作\r\n      if (this.allSelectedArticleIds.has(row.id)) {\r\n        this.allSelectedArticleIds.delete(row.id);\r\n\r\n        // 如果不存在id则说明是添加操作\r\n      } else {\r\n        this.allSelectedArticleIds.add(row.id);\r\n      }\r\n    },\r\n    /**\r\n     * set: 保存所有文章id\r\n     * 删除所选择的文章。\r\n     */\r\n    deleteAllSelecteds(set) {\r\n      this.$confirm(\"此操作将永久删除所选文件, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then(() => {\r\n          // 这里进行删除操作。\r\n          httpDeleteArticles(Array.from(this.allSelectedArticleIds)).then(\r\n           async (data) => {\r\n              this.$message({\r\n                type: \"success\",\r\n                message: \"删除成功!\",\r\n              });\r\n              this.getDirectory();\r\n              this.getData(0,this.pageSize);\r\n              this.pageSum = await httpArticleQueryByUIdAndContentSum(\"\",this.$store.state.people.user.id);\r\n            }\r\n          );\r\n        })\r\n        .catch((error) => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: error,\r\n          });\r\n        });\r\n    },\r\n    /**\r\n     * selection 表格数据\r\n     * 将selection里面文章的id存储进this.allSelectedArticleIds\r\n     */\r\n    seletAllArticle(selection) {\r\n      // 不为0 则选择了全部\r\n      if (selection.length != 0) {\r\n        selection.forEach((v) => {\r\n          this.allSelectedArticleIds.add(v.id);\r\n        });\r\n        console.log(this.allSelectedArticleIds);\r\n        // 为0 则取消了所有选择\r\n      } else {\r\n        this.allSelectedArticleIds.clear();\r\n      }\r\n    },\r\n    /**\r\n     * index 表格行下标\r\n     * article 表格的行数据\r\n     * 根据进入编辑文章页\r\n     */\r\n    handleEdit(index, article) {\r\n      this.$router.push(\"/EditArticle/\" + article.id);\r\n    },\r\n    /**\r\n     * 删除对应文章\r\n     */\r\n    handleDelete(index, article) {\r\n      let _this = this;\r\n      this.$confirm(\"此操作将永久删除该文件, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then(() => {\r\n          httpDeleteArticles([article.id]).then((data) => {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"删除成功!\",\r\n            });\r\n            this.getDirectory();\r\n            this.getData(0,this.pageSize)\r\n          });\r\n        })\r\n        .catch((error) => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: error,\r\n          });\r\n        });\r\n    },\r\n    /**\r\n     * 懒加载数据\r\n     */\r\n    addTableData() {\r\n      let _this = this;\r\n      throttle.scroolRun(100, () => {\r\n        return new Promise((resolve, reject) => {\r\n          let uId = _this.$store.state.people.user.id;\r\n          httpArticleQueryByUIdAndContent(uId, \"\", _this.start, _this.sum)\r\n            .then((response) => {\r\n              response.data.forEach((element) => {\r\n                _this.tableData.push(element);\r\n              });\r\n              _this.start += _this.sum;\r\n              resolve();\r\n            })\r\n            .catch((err) => {\r\n              reject();\r\n            });\r\n        });\r\n      });\r\n    },\r\n    /**\r\n     * 添加数据\r\n     */\r\n    addHandle(event) {\r\n      this.$prompt(\"请输入目录名称\", \"添加\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        inputPattern: /^(\\w|\\W)+$/,\r\n        inputErrorMessage: \"请输入目录名称\",\r\n      })\r\n        .then(({ value }) => {\r\n          let pid = this.$store.state.people.user.id;\r\n          let path = \"/\" + pid;\r\n          let name = value;\r\n          let articleId = 0;\r\n          let uid = this.$store.state.people.user.id;\r\n          httpCreateDirector(pid, path, value, 0, uid).then(() => {\r\n            this.getDirectory();\r\n          });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"取消输入\",\r\n          });\r\n        });\r\n    },\r\n    /**\r\n     * 右击弹出菜单\r\n     */\r\n    showMenu(event) {\r\n      this.event = event;\r\n      this.visible = true;\r\n    },\r\n    /**\r\n     * 获取目录\r\n     */\r\n    getDirectory() {\r\n      httpGetDirectory(this.$store.state.people.user.id)\r\n        .then((response) => {\r\n          this.directorData = Array.isArray(response.data) ? response.data : [];\r\n        })\r\n        .catch((err) => {\r\n          this.directorData = [];\r\n        });\r\n      this.getData(0,this.pageSize)\r\n    },\r\n    /**\r\n     * 获取文章\r\n     */\r\n    getArticle() {\r\n      let uId = this.$store.state.people.user.id;\r\n      httpArticleQueryByUIdAndContent(uId, \"\", this.start, this.sum)\r\n        .then((response) => {\r\n          this.tableData = Array.isArray(response.data) ? response.data : [];\r\n          this.start += this.sum;\r\n        })\r\n        .catch((err) => {\r\n          this.tableData = [];\r\n        });\r\n    },\r\n    /**\r\n     * 获取数据\r\n     */\r\n    async getData(pageNum = 0, pageSize = 5) {\r\n      let uId = this.$store.state.people.user.id;\r\n      httpArticleQueryByUIdAndContent(uId, \"\", pageNum, pageSize)\r\n        .then((response) => {\r\n          this.tableData = Array.isArray(response.data) ? response.data : [];\r\n        })\r\n        .catch((err) => {\r\n          this.tableData = [];\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.UserHome {\r\n  margin-top: 10px;\r\n  overflow: hidden;\r\n  .UserHome-left__wrapper {\r\n    background-color: #ffffff;\r\n    padding: 10px;\r\n    border-top: 1px solid rgba(0, 0, 0, 0.1);\r\n  }\r\n  .UserHome-middle__wrapper {\r\n    background-color: #ffffff;\r\n    border-top: 1px solid rgba(0, 0, 0, 0.1);\r\n    padding: 10px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Base.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Base.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Base.vue?vue&type=template&id=7c6fc653&scoped=true&\"\nimport script from \"./Base.vue?vue&type=script&lang=js&\"\nexport * from \"./Base.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Base.vue?vue&type=style&index=0&id=7c6fc653&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7c6fc653\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HpNavItem.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HpNavItem.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}